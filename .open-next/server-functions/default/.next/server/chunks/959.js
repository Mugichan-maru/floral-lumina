exports.id=959,exports.ids=[959],exports.modules={385:(e,t,r)=>{"use strict";r.d(t,{default:()=>x});var s=r(687),o=r(3210),n=r.n(o),i=r(8920),l=r(909),a=r(6189),d=r(8253),c=r(474);function m({item:e}){let{removeItem:t,updateQuantity:r}=(0,d._)(),o=(e=>{let t=e.match(/[\d,]+/);return t?parseInt(t[0].replace(/,/g,""),10):0})(e.product.price),n=o*e.quantity,i=s=>{s<=0?t(e.id):r(e.id,s)};return(0,s.jsxs)(l.P.div,{className:"flex gap-4 p-4 border-b border-gray-200 last:border-b-0",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.2},children:[(0,s.jsx)("div",{className:"w-16 h-20 flex-shrink-0 relative",children:(0,s.jsx)(c.default,{src:e.product.images[0],alt:e.product.title,fill:!0,className:"object-cover rounded-lg"})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("h3",{className:"text-sm font-display text-gray-dark truncate mb-1",children:e.product.title}),e.selectedColor&&(0,s.jsxs)("p",{className:"text-xs text-gray-500 font-body mb-2",children:["カラー: ",e.selectedColor]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("div",{className:"text-sm text-brand-gold font-display font-semibold",children:o>0?`\xa5${n.toLocaleString()}`:e.product.price}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(l.P.button,{onClick:()=>i(e.quantity-1),className:"w-6 h-6 rounded-full border border-gray-300 flex items-center justify-center hover:border-brand-gold transition-colors",whileTap:{scale:.9},children:(0,s.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),(0,s.jsx)("span",{className:"text-sm font-body min-w-[20px] text-center",children:e.quantity}),(0,s.jsx)(l.P.button,{onClick:()=>i(e.quantity+1),className:"w-6 h-6 rounded-full border border-gray-300 flex items-center justify-center hover:border-brand-gold transition-colors",whileTap:{scale:.9},children:(0,s.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})})]})]}),o>0&&e.quantity>1&&(0,s.jsxs)("p",{className:"text-xs text-gray-400 font-body mt-1",children:["単価: \xa5",o.toLocaleString()]})]}),(0,s.jsx)(l.P.button,{onClick:()=>t(e.id),className:"w-6 h-6 text-gray-400 hover:text-red-500 transition-colors flex-shrink-0",whileTap:{scale:.9},children:(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}function x(){let{state:e,closeCart:t,clearCart:r}=(0,d._)(),o=(0,a.useRouter)(),[c,x]=n().useState(!1),[h,u]=n().useState(null),p=async()=>{try{if(u(null),0===e.items.length)return void t();x(!0),t(),o.push("/checkout")}catch(e){u(e?.message||"チェックアウトでエラーが発生しました")}finally{x(!1)}};return(0,s.jsx)(i.N,{children:e.isOpen&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.P.div,{className:"fixed inset-0 bg-black/50 z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e=>{e.target===e.currentTarget&&t()}}),(0,s.jsxs)(l.P.div,{className:"fixed top-0 right-0 h-full w-full max-w-md bg-white shadow-xl z-50 flex flex-col",initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:25,stiffness:200},children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[(0,s.jsx)("h2",{className:"text-lg font-display text-gray-800",children:"ショッピングカート"}),(0,s.jsx)(l.P.button,{onClick:t,className:"w-8 h-8 rounded-full hover:bg-gray-100 flex items-center justify-center transition-colors",whileTap:{scale:.9},children:(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,s.jsx)("div",{className:"flex-1 overflow-y-auto",children:0===e.items.length?(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center h-full p-8 text-center",children:[(0,s.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:(0,s.jsx)("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M15.75 10.5V6a3.75 3.75 0 1 0-7.5 0v4.5m11.356-1.993 1.263 12c.07.665-.45 1.243-1.119 1.243H4.25a1.125 1.125 0 0 1-1.12-1.243l1.264-12A1.125 1.125 0 0 1 5.513 7.5h12.974c.576 0 1.059.435 1.119 1.007ZM8.625 10.5a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm7.5 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"})})}),(0,s.jsx)("h3",{className:"text-lg font-display text-gray-800 mb-2",children:"カートは空です"}),(0,s.jsxs)("p",{className:"text-sm text-gray-500 font-body mb-6",children:["お気に入りの商品を見つけて",(0,s.jsx)("br",{}),"カートに追加してください"]}),(0,s.jsx)(l.P.button,{onClick:t,className:"bg-brand-gold text-white px-6 py-3 rounded-full font-display text-sm tracking-wide hover:bg-opacity-90 transition-colors",whileHover:{y:-2},whileTap:{scale:.98},children:"商品を見る"})]}):(0,s.jsxs)("div",{children:[e.items.length>0&&(0,s.jsx)("div",{className:"p-4 border-b border-gray-200",children:(0,s.jsx)(l.P.button,{onClick:r,className:"text-xs text-gray-500 hover:text-red-500 transition-colors font-body",whileTap:{scale:.95},children:"カートを空にする"})}),(0,s.jsx)(i.N,{children:e.items.map(e=>(0,s.jsx)(m,{item:e},e.id))})]})}),e.items.length>0&&(0,s.jsxs)("div",{className:"border-t border-gray-200 p-4 space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("span",{className:"text-lg font-display text-gray-800",children:["合計：",e.totalItems,"点"]}),(0,s.jsxs)("span",{className:"text-lg font-display font-semibold text-brand-gold",children:["\xa5",e.totalPrice.toLocaleString()]})]}),(0,s.jsx)("p",{className:"text-xs text-gray-500 font-body",children:"※配送料は含まれていません"}),(0,s.jsx)(l.P.button,{className:"w-full bg-brand-gold text-white py-4 rounded-full font-display text-lg tracking-wide shadow-md disabled:opacity-60",whileHover:{y:c?0:-2},whileTap:{scale:c?1:.98},disabled:c,onClick:p,children:c?"処理中...":"ご注文手続きへ"}),h&&(0,s.jsx)("p",{className:"text-sm text-red-500 font-body text-center",children:h}),(0,s.jsx)(l.P.button,{onClick:t,className:"w-full border border-brand-gold text-brand-gold py-3 rounded-full font-display text-sm tracking-wide hover:bg-brand-gold hover:text-white transition-colors",whileTap:{scale:.98},children:"続けて買い物をする"})]})]})]})})}},1116:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});let s=(0,r(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\r0157\\\\Desktop\\\\work\\\\floral-lumina\\\\src\\\\components\\\\Cart\\\\CartDrawer.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\r0157\\Desktop\\work\\floral-lumina\\src\\components\\Cart\\CartDrawer.tsx","default")},1135:()=>{},2603:(e,t,r)=>{Promise.resolve().then(r.bind(r,385)),Promise.resolve().then(r.bind(r,8253))},4431:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m,metadata:()=>c});var s=r(7413);r(1135);var o=r(7591),n=r.n(o),i=r(3011),l=r.n(i),a=r(7043),d=r(1116);let c={title:"Floral Lumina",description:"Decorate your hands with flower smartphone case"};function m({children:e}){return(0,s.jsx)("html",{lang:"ja",className:`${n().variable} ${l().variable} scroll-smooth`,children:(0,s.jsx)("body",{children:(0,s.jsxs)(a.CartProvider,{children:[e,(0,s.jsx)(d.default,{})]})})})}},7043:(e,t,r)=>{"use strict";r.d(t,{CartProvider:()=>o});var s=r(2907);let o=(0,s.registerClientReference)(function(){throw Error("Attempted to call CartProvider() from the server but CartProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\r0157\\Desktop\\work\\floral-lumina\\src\\contexts\\CartContext.tsx","CartProvider");(0,s.registerClientReference)(function(){throw Error("Attempted to call useCart() from the server but useCart is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\r0157\\Desktop\\work\\floral-lumina\\src\\contexts\\CartContext.tsx","useCart")},8101:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6346,23)),Promise.resolve().then(r.t.bind(r,7924,23)),Promise.resolve().then(r.t.bind(r,5656,23)),Promise.resolve().then(r.t.bind(r,99,23)),Promise.resolve().then(r.t.bind(r,8243,23)),Promise.resolve().then(r.t.bind(r,8827,23)),Promise.resolve().then(r.t.bind(r,2763,23)),Promise.resolve().then(r.t.bind(r,7173,23))},8253:(e,t,r)=>{"use strict";r.d(t,{CartProvider:()=>c,_:()=>m});var s=r(687),o=r(3210);let n=e=>{let t=e.match(/[\d,]+/);return t?parseInt(t[0].replace(/,/g,""),10):0},i=e=>({totalItems:e.reduce((e,t)=>e+t.quantity,0),totalPrice:e.reduce((e,t)=>e+n(t.product.price)*t.quantity,0)}),l={items:[],isOpen:!1,totalItems:0,totalPrice:0},a=(e,t)=>{switch(t.type){case"ADD_ITEM":{let r,{product:s,quantity:o,color:n}=t.payload,l=`${s.id}-${n||"default"}`,a=e.items.findIndex(e=>e.id===l);if(a>=0)r=e.items.map((e,t)=>t===a?{...e,quantity:e.quantity+o}:e);else{let t={id:l,product:s,quantity:o,selectedColor:n,addedAt:Date.now()};r=[...e.items,t]}let{totalItems:d,totalPrice:c}=i(r);return{...e,items:r,totalItems:d,totalPrice:c}}case"REMOVE_ITEM":{let r=e.items.filter(e=>e.id!==t.payload.id),{totalItems:s,totalPrice:o}=i(r);return{...e,items:r,totalItems:s,totalPrice:o}}case"UPDATE_QUANTITY":{let{id:r,quantity:s}=t.payload;if(s<=0)return a(e,{type:"REMOVE_ITEM",payload:{id:r}});let o=e.items.map(e=>e.id===r?{...e,quantity:s}:e),{totalItems:n,totalPrice:l}=i(o);return{...e,items:o,totalItems:n,totalPrice:l}}case"CLEAR_CART":return{...e,items:[],totalItems:0,totalPrice:0};case"TOGGLE_CART":return{...e,isOpen:!e.isOpen};case"OPEN_CART":return{...e,isOpen:!0};case"CLOSE_CART":return{...e,isOpen:!1};case"LOAD_CART":{let{totalItems:r,totalPrice:s}=i(t.payload);return{...e,items:t.payload,totalItems:r,totalPrice:s}}default:return e}},d=(0,o.createContext)(void 0);function c({children:e}){let[t,r]=(0,o.useReducer)(a,l);return(0,s.jsx)(d.Provider,{value:{state:t,addItem:(e,t,s)=>{r({type:"ADD_ITEM",payload:{product:e,quantity:t,color:s}})},removeItem:e=>{r({type:"REMOVE_ITEM",payload:{id:e}})},updateQuantity:(e,t)=>{r({type:"UPDATE_QUANTITY",payload:{id:e,quantity:t}})},clearCart:()=>{r({type:"CLEAR_CART"})},toggleCart:()=>{r({type:"TOGGLE_CART"})},openCart:()=>{r({type:"OPEN_CART"})},closeCart:()=>{r({type:"CLOSE_CART"})}},children:e})}function m(){let e=(0,o.useContext)(d);if(void 0===e)throw Error("useCart must be used within a CartProvider");return e}},8531:(e,t,r)=>{Promise.resolve().then(r.bind(r,1116)),Promise.resolve().then(r.bind(r,7043))},8597:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6444,23)),Promise.resolve().then(r.t.bind(r,6042,23)),Promise.resolve().then(r.t.bind(r,8170,23)),Promise.resolve().then(r.t.bind(r,9477,23)),Promise.resolve().then(r.t.bind(r,9345,23)),Promise.resolve().then(r.t.bind(r,2089,23)),Promise.resolve().then(r.t.bind(r,6577,23)),Promise.resolve().then(r.t.bind(r,1307,23))}};